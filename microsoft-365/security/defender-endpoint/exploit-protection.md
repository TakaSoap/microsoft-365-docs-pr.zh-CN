---
title: 应用缓解以帮助防止通过漏洞进行攻击
keywords: 缓解, 漏洞, 漏洞, 缓解, 攻击, 攻击, emet
description: 使用 Windows 10 或 Windows 11 保护设备免受攻击。 Windows 具有高级 Exploit Protection 功能，基于增强型减灾体验工具包 (EMET) 中提供的设置而构建并改进这些设置。
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.pagetype: security
ms.localizationpriority: high
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: ''
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.topic: article
ms.collection: m365initiative-m365-defender
ms.date: 10/19/2021
ms.openlocfilehash: e4be60f40f21a1c23816f45913ebc23bf535b838
ms.sourcegitcommit: bae72428d229827cba4c807d9cd362417afbcccb
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/02/2022
ms.locfileid: "62320639"
---
# <a name="protect-devices-from-exploits"></a>保护设备免遭攻击

**适用于：**
- [Microsoft Defender for Endpoint 计划 2](https://go.microsoft.com/fwlink/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

Exploit Protection 自动将大量攻击缓解技术应用于操作系统进程和应用。 从 Windows 10 版本 1709、Windows 11 和 Windows Server 版本 1803 开始支持 Exploit Protection。

> [!TIP]
> 可以在 [demo.wd.microsoft.com](https://demo.wd.microsoft.com?ocid=cx-wddocs-testground) 中访问 Windows Defender Testground 网站，确认该功能是否正常运行并查看其工作原理。

Exploit Protection 最适用于 [Microsoft Defender for Endpoint](microsoft-defender-endpoint.md)，向你详细报告 Exploit Protection 事件和阻止，作为常见[警报调查方案](investigate-alerts.md)的一部分。

可以在单个设备上[启用 Exploit Protection](enable-exploit-protection.md)，然后使用[组策略](import-export-exploit-protection-emet-xml.md)将 XML 文件一次性分发到多个设备。

在设备上找到缓解时，操作中心将显示一条通知。 你可以使用公司的详细信息和联系人信息[自定义通知](attack-surface-reduction-rules-deployment-phase-3.md#customize-attack-surface-reduction-rules)。 还可以单独启用规则以自定义功能所监视的技术。

还可以使用[审核模式](evaluate-exploit-protection.md)评估 Exploit Protection（如果已启用）对你的组织有何影响。

[增强型减灾体验工具包(EMET)](https://technet.microsoft.com/security/jj653751)中的许多功能都包含在 Exploit Protection 中。 实际上，你可以将现有的 EMET 配置文件转换并导入到 Exploit Protection 中。 如需了解更多信息，请参阅[导入、导出和部署 Exploit Protection 配置](/microsoft-365/security/defender-endpoint/import-export-exploit-protection-emet-xml)。

> [!IMPORTANT]
> 如果当前使用的是 EMET，则应注意 [EMET 已于 2018 年 7 月 31 日终止支持](https://blogs.technet.microsoft.com/srd/2016/11/03/beyond-emet/)。请考虑在 Windows 10 中将 EMET 替换为攻击保护。

> [!WARNING]
> 某些安全缓解技术可能与某些应用程序存在兼容性问题。在跨生产环境或网络的其余部分部署配置之前，应通过使用 [审核模式](audit-windows-defender.md) 在所有目标使用方案中测试攻击保护。

## <a name="review-exploit-protection-events-in-the-microsoft-security-center"></a>在 Microsoft 安全中心中查看 Exploit Protection 事件

Microsoft Defender for Endpoint 向你详细报告事件和阻止，作为其警报调查方案的一部分。

可以使用[高级搜寻](/microsoft-365/security/defender-endpoint/advanced-hunting-overview)查询 Microsoft Defender for Endpoint 数据。 如果你使用的是[审核模式](audit-windows-defender.md)，则可以使用高级搜寻来了解 Exploit Protection 设置对你的环境有何影响。

示例查询如下：

```kusto
DeviceEvents
| where ActionType startswith 'ExploitGuard' and ActionType !contains 'NetworkProtection'
```

## <a name="review-exploit-protection-events-in-windows-event-viewer"></a>在 Windows 事件查看器中查看 Exploit Protection 事件

可以查看 Windows 事件日志以了解在 Exploit Protection 阻止（或审核）应用时创建的事件：<br/><br/>

|提供程序/源 | 事件 ID | 描述|
|:---|:---|:---|
|安全缓解 | 1 | ACG 审核 |
|安全缓解 | 2 | ACG 强制 |
|安全缓解 | 3 | 不允许子进程审核 |
|安全缓解 | 4 | 不允许子进程阻止 |
|安全缓解 | 5 | 阻止低完整性图像审核 |
|安全缓解 | 6  | 阻止低完整性图像阻止 |
|安全缓解 | 7  | 阻止远程图像审核 |
|安全缓解 | 8  | 阻止远程图像阻止 |
|安全缓解 | 9  | 禁用 win32k 系统调用审核 |
|安全缓解 | 10  | 禁用 win32k 系统调用阻止 |
|安全缓解 | 11 | 代码完整性防护审核 |
|安全缓解 | 12  | 代码完整性防护阻止 |
|安全缓解 | 13 | EAF 审核 |
|安全缓解 | 14  | EAF 强制 |
|安全缓解 | 15  | EAF+ 审核 |
|安全缓解 | 16 | EAF+ 强制 |
|安全缓解 | 17  | IAF 审核 |
|安全缓解 | 18  | IAF 强制 |
|安全缓解 | 19 | ROP StackPivot 审核 |
|安全缓解 | 20 | ROP StackPivot 强制 |
|安全缓解 |  21 | ROP CallerCheck 审核 |
|安全缓解 | 22 | ROP CallerCheck 强制 |
|安全缓解 | 23 | ROP SimExec 审核 |
|安全缓解 | 24 | ROP SimExec 强制 |
|WER-诊断 | 5 | CFG 阻止 |
|Win32K | 260 | 不受信任的字体 |

## <a name="mitigation-comparison"></a>缓解比较

EMET 中提供的缓解包含在 [Exploit Protection](exploit-protection.md) 下的本地 Windows 10（从版本 1709 开始）、Windows 11 和 Windows Server（从版本 1803 开始）中。

本部分中的表格表示 EMET 和 Exploit Protection 之间的本机缓解的可用性和支持。<br/><br/>

|缓解 | 在 Exploit protection 下可用 | 在 EMET 中可用 |
|:---|:---|:---|
|任意代码防护(ACG) | 是 | 是<br />作为“内存保护检查” |
|阻止远程图像 | 是 | 是<br/>作为“加载库检查” |
|阻止不受信任的字体 | 是 | 是 |
|数据执行保护(DEP) | 是 | 是 |
|导出地址筛选(EAF) | 是 | 是 |
|强制图像随机化(强制 ASLR) | 是 | 是 |
|Null 页安全缓解 | 是<br />包含在本地 Windows 10 和 Windows 11 中 <br/>有关详细信息，请参阅[使用 Windows 10 安全功能缓解威胁](/windows/security/threat-protection/overview-of-threat-mitigations-in-windows-10#understanding-windows-10-in-relation-to-the-enhanced-mitigation-experience-toolkit) | 是 |
|随机内存分配(由下而上 ASLR) | 是 | 是 |
|模拟执行(SimExec) | 是 | 是 |
|验证 API 调用(CallerCheck) | 是 | 是 |
|验证异常链(SEHOP) | 是 | 是 |
|验证堆栈完整性(StackPivot) | 是 | 是 |
|证书信任(可配置的证书固定) | Windows 10 和 Windows 11 提供企业证书固定 | 是 |
|堆喷射分配 | 对基于浏览器的较新攻击无效；较新的缓解可提供更好的保护<br/>有关详细信息，请参阅[使用 Windows 10 安全功能缓解威胁](/windows/security/threat-protection/overview-of-threat-mitigations-in-windows-10#understanding-windows-10-in-relation-to-the-enhanced-mitigation-experience-toolkit) | 是 |
|阻止低完整性图像 | 是 | 否 |
|代码完整性防护 | 是 | 否 |
|禁用扩展点 | 是 | 否 |
|禁用 Win32k 系统调用 | 是 | 否 |
|不允许子进程 | 是 | 否 |
|导入地址筛选(IAF) | 是 | 否 |
|验证处理使用情况 | 是 | 否 |
|验证堆完整性 | 是 | 否 |
|验证映像依赖项完整性 | 是 | 否 |

> [!NOTE]

> EMET 中提供的高级 ROP 缓解已由 Windows 10 和 Windows 11 中的 ACG 取代，默认情况下，在为进程启用反 ROP 缓解的过程将启用其他 EMET 高级设置。 请参阅[使用 Windows 10 安全功能缓解威胁](/windows/security/threat-protection/overview-of-threat-mitigations-in-windows-10#understanding-windows-10-in-relation-to-the-enhanced-mitigation-experience-toolkit)以了解有关 Windows 10 如何利用现有 EMET 技术的详细信息。

## <a name="see-also"></a>另请参阅

- [保护设备免遭攻击](exploit-protection.md)
- [配置和审核 Exploit Protection 缓解](customize-exploit-protection.md)
- [排查 Exploit Protection 问题](troubleshoot-exploit-protection-mitigations.md)
- [优化 ASR 规则部署和检测](configure-machines-asr.md)
