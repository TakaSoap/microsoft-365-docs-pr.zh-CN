---
title: 查看 Exploit Protection 在演示中的工作原理
description: 了解 Exploit Protection 如何防止特定应用上发生可疑行为。
keywords: Exploit Protection， 攻击， 内核， 事件， 评估， 演示， 尝试， 缓解
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.pagetype: security
ms.localizationpriority: medium
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.date: 01/06/2021
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.topic: how-to
ms.collection: m365-security-compliance
ms.openlocfilehash: 5b2341b8ec547d1f0860a809ce28c31002b5bacf
ms.sourcegitcommit: d4b867e37bf741528ded7fb289e4f6847228d2c5
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/06/2021
ms.locfileid: "60152294"
---
# <a name="evaluate-exploit-protection"></a>评估 Exploit Protection

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

**适用于：**
- [Microsoft Defender for Endpoint](https://go.microsoft.com/fwlink/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> 希望体验 Microsoft Defender for Endpoint？ [注册免费试用版](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-enablesiem-abovefoldlink)。

[Exploit Protection](exploit-protection.md) 可帮助保护设备免受使用攻击传播和感染其他设备的恶意软件的攻击。 缓解可以应用于操作系统或单个应用。 EMET Toolkit (增强缓解体验) 许多功能包含在 Exploit Protection 中。  (EMET 已终止支持。) 

在审核中，你可以看到缓解如何适用于测试环境中的某些应用。 这将显示 *如果在* 生产环境中启用 Exploit Protection，将发生的情况。 这样，你可以验证 Exploit Protection 不会对业务线应用造成负面影响，并查看发生哪些可疑或恶意事件。

> [!TIP]
> 还可以访问 Microsoft Defender Testground 网站 [，demo.wd.microsoft.com](https://demo.wd.microsoft.com?ocid=cx-wddocs-testground) 了解 Exploit Protection 的工作原理。

## <a name="enable-exploit-protection-for-testing"></a>启用 Exploit Protection 进行测试

可以在测试模式下使用应用或应用设置特定Windows 安全中心缓解Windows PowerShell。

### <a name="windows-security-app"></a>Windows 安全中心应用

1. 打开 Windows 安全应用。 选择任务栏中的防护图标或搜索 Defender 的"开始" **菜单**。

2. 选择应用 **&浏览器控制** 磁贴 (或左侧菜单栏上的应用图标) 选择 Exploit **Protection**。

3. 转到 **"程序设置** "，然后选择要应用保护的应用：

    1. 如果已列出要配置的应用，请选择它，然后选择"编辑 **"**
    2. 如果应用未在列表顶部列出，请选择" **添加程序"以自定义**。 然后，选择希望如何添加应用。
        - 使用 **"按程序名称** 添加"将缓解应用于具有该名称的任何正在运行的进程。 指定具有扩展名的文件。 你可以输入完整路径，将缓解限制为仅该位置中具有该名称的应用。
        - Use **Choose exact file path** to use a standard Windows Explorer file picker window to find and select the file you want.

4. 选择应用后，你将看到可应用的所有缓解的列表。 选择 **审核** 将仅在审核模式下应用缓解。 如果需要重新启动进程、应用或应用，你将收到Windows。

5. 对要配置的所有应用和缓解重复此过程。 完成 **配置** 设置后，选择"应用"。

### <a name="powershell"></a>PowerShell

若要将应用级别的缓解设置为审核模式，请与 `Set-ProcessMitigation` **审核模式** cmdlet 一起使用。

按以下格式配置每个缓解：

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

其中：

- \<Scope\>:
  - `-Name` 指示缓解应应用于特定应用。 在此标志后指定应用的可执行文件。
- \<Action\>:
  - `-Enable` 启用缓解
    - `-Disable` 禁用缓解
- \<Mitigation\>:
  - 缓解的 cmdlet，如下表所定义。 每个缓解用逗号分隔。

|缓解|审核模式 cmdlet|
|---|---|
|ACG (任意代码) |`AuditDynamicCode`|
|阻止低完整性图像|`AuditImageLoad`
|阻止不受信任的字体|`AuditFont`, `FontAuditOnly`|
|代码完整性防护|`AuditMicrosoftSigned`, `AuditStoreSigned`|
|禁用 Win32k 系统调用|`AuditSystemCall`|
|不允许子进程|`AuditChildProcess`|

例如，若要在审核模式下 (名为) 的应用启用任意代码防护testing.exe，请运行以下命令： **

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable AuditDynamicCode
```

可以通过将 **替换为 来禁用** 审核 `-Enable` 模式 `-Disable` 。

## <a name="review-exploit-protection-audit-events"></a>查看 Exploit Protection 审核事件

若要查看哪些应用已被阻止，请打开事件查看器，并筛选活动日志中的Security-Mitigations事件。<br/><br/>

|功能|提供程序/源|事件 ID|描述|
|---|---|--|---|
|漏洞保护|Security-Mitigations (内核模式/用户模式) |1|ACG 审核|
|漏洞保护|Security-Mitigations (内核模式/用户模式) |3|不允许子进程审核|
|漏洞保护|Security-Mitigations (内核模式/用户模式) |5|阻止低完整性图像审核|
|漏洞保护|Security-Mitigations (内核模式/用户模式) |7 |阻止远程图像审核|
|漏洞保护|Security-Mitigations (内核模式/用户模式) |9 |禁用 win32k 系统调用审核|
|漏洞保护|Security-Mitigations (内核模式/用户模式) |11|代码完整性防护审核|

## <a name="see-also"></a>另请参阅

- [启用漏洞保护](enable-exploit-protection.md)
- [配置和审核 Exploit Protection 缓解](customize-exploit-protection.md)
- [导入、导出和部署 Exploit Protection 配置](import-export-exploit-protection-emet-xml.md)
- [排查 Exploit Protection 问题](troubleshoot-exploit-protection-mitigations.md)
